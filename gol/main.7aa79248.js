parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"FsqC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Universe=exports.__wbindgen_throw=exports.__wbg_log_3bafd82835c6de6d=exports.__wbindgen_object_drop_ref=exports.__wbindgen_string_new=exports.Cell=exports.default=void 0;var e=_(require("./pkg/gol_lib_bg.wasm"));function _(e){return e&&e.__esModule?e:{default:e}}var r=e.default;exports.default=r;var t=e.default.Cell;exports.Cell=t;var d=e.default.__wbindgen_string_new;exports.__wbindgen_string_new=d;var o=e.default.__wbindgen_object_drop_ref;exports.__wbindgen_object_drop_ref=o;var n=e.default.__wbg_log_3bafd82835c6de6d;exports.__wbg_log_3bafd82835c6de6d=n;var s=e.default.__wbindgen_throw;exports.__wbindgen_throw=s;var l=e.default.Universe;exports.Universe=l;
},{"./pkg/gol_lib_bg.wasm":"lULg"}],"epB2":[function(require,module,exports) {
"use strict";var e=r(require("./gol-lib/Cargo.toml"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t();if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}var n=e.Universe,o=e.Cell,i=e.default.wasm.memory,a=6,c="#333",l="#000",u="#FFF",f=n.new(),s=[f.width(),f.height()],d=s[0],v=s[1],h=document.querySelector("canvas");h.height=(a+1)*v+1,h.width=(a+1)*d+1;var g=h.getContext("2d"),m=function(){g.beginPath(),g.strokeStyle=c;for(var e=0;e<=d;e++)g.moveTo(e*(a+1)+1,0),g.lineTo(e*(a+1)+1,(a+1)*v+1);for(var t=0;t<=v;t++)g.moveTo(0,t*(a+1)+1),g.lineTo((a+1)*d+1,t*(a+1)+1);g.stroke()},p=function(e,t){return e*d+t},y=function(){var e=f.cells(),t=new Uint8Array(i.buffer,e,d*v);g.beginPath();for(var r=0;r<v;r++)for(var n=0;n<d;n++){var c=p(r,n);g.fillStyle=t[c]===o.Dead?l:u,g.fillRect(n*(a+1)+1,r*(a+1)+1,a,a)}g.stroke()},b=!1,w=document.querySelector("#ticks"),k=function e(){m(),y();for(var t=0;t<w.value;t++)f.tick();b=requestAnimationFrame(e)},O=document.querySelector("#playbtn");O.addEventListener("click",function(e){O.textContent=b?"▶":"⏸",b?(cancelAnimationFrame(b),b=!1):k()}),m(),y();var q=0;document.querySelector("#pointers").addEventListener("click",function(e){q=e.target.getAttribute("data-index"),document.querySelectorAll("#pointers button").forEach(function(e){return e.classList.remove("selected")}),e.target.classList.add("selected")});var M=function(e,t){[[[0,0]],[[1,0],[2,1],[0,2],[1,2],[2,2]],[[0,0],[-1,0],[1,0],[0,-1],[0,1]]][q].map(function(r){f.toggle_cell(e+r[0],t+r[1])})};h.addEventListener("click",function(e){var t=h.getBoundingClientRect(),r=h.width/t.width,n=h.height/t.height,o=(e.clientX-t.left)*r,i=(e.clientY-t.top)*n,c=Math.min(Math.floor(i/(a+1)),v-1),l=Math.min(Math.floor(o/(a+1)),d-1);M(c,l),m(),y()});
},{"./gol-lib/Cargo.toml":"FsqC"}],"G0V6":[function(require,module,exports) {
var t=null;function e(){return t||(t=n()),t}function n(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return r(t[0])}return"/"}function r(t){return(""+t).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}exports.getBundleURL=e,exports.getBaseURL=r;
},{}],"UPRQ":[function(require,module,exports) {
var r=require("./bundle-url").getBundleURL;function e(r){Array.isArray(r)||(r=[r]);var e=r[r.length-1];try{return Promise.resolve(require(e))}catch(n){if("MODULE_NOT_FOUND"===n.code)return new s(function(n,i){t(r.slice(0,-1)).then(function(){return require(e)}).then(n,i)});throw n}}function t(r){return Promise.all(r.map(u))}var n={};function i(r,e){n[r]=e}module.exports=exports=e,exports.load=t,exports.register=i;var o={};function u(e){var t;if(Array.isArray(e)&&(t=e[1],e=e[0]),o[e])return o[e];var i=(e.substring(e.lastIndexOf(".")+1,e.length)||e).toLowerCase(),u=n[i];return u?o[e]=u(r()+e).then(function(r){return r&&module.bundle.register(t,r),r}).catch(function(r){throw delete o[e],r}):void 0}function s(r){this.executor=r,this.promise=null}s.prototype.then=function(r,e){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.then(r,e)},s.prototype.catch=function(r){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.catch(r)};
},{"./bundle-url":"G0V6"}],"FWam":[function(require,module,exports) {

},{}],"ocK6":[function(require,module,exports) {
var __dirname = "C:\\Users\\tom\\p\\game-of-life-wasm-rust\\node_modules\\parcel-plugin-wasm.rs";
var e,t="C:\\Users\\tom\\p\\game-of-life-wasm-rust\\node_modules\\parcel-plugin-wasm.rs";const n={},r="undefined"==typeof TextDecoder?(0,module.require)("util").TextDecoder:TextDecoder;let i=new r("utf-8",{ignoreBOM:!0,fatal:!0});i.decode();let s=null;function u(){return null!==s&&s.buffer===e.memory.buffer||(s=new Uint8Array(e.memory.buffer)),s}function o(e,t){return i.decode(u().subarray(e,e+t))}const l=new Array(32).fill(void 0);l.push(void 0,null,!0,!1);let _=l.length;function c(e){_===l.length&&l.push(l.length+1);const t=_;return _=l[t],l[t]=e,t}function f(e){return l[e]}function a(e){e<36||(l[e]=_,_=e)}function b(e){const t=f(e);return a(e),t}let h=null;function d(){return null!==h&&h.buffer===e.memory.buffer||(h=new Int32Array(e.memory.buffer)),h}n.Cell=Object.freeze({Dead:0,0:"Dead",Alive:1,1:"Alive"});class g{static __wrap(e){const t=Object.create(g.prototype);return t.ptr=e,t}free(){const t=this.ptr;this.ptr=0,e.__wbg_universe_free(t)}toggle_cell(t,n){e.universe_toggle_cell(this.ptr,t,n)}tick(){e.universe_tick(this.ptr)}static new(){var t=e.universe_new();return g.__wrap(t)}set_width(t){e.universe_set_width(this.ptr,t)}set_height(t){e.universe_set_height(this.ptr,t)}render(){try{const r=e.__wbindgen_export_0.value-16;e.__wbindgen_export_0.value=r,e.universe_render(r,this.ptr);var t=d()[r/4+0],n=d()[r/4+1];return o(t,n)}finally{e.__wbindgen_export_0.value+=16,e.__wbindgen_free(t,n)}}width(){return e.universe_width(this.ptr)>>>0}height(){return e.universe_height(this.ptr)>>>0}cells(){return e.universe_cells(this.ptr)}}function w(t){const r=fetch(t);let i;return(i="function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(r,{"./gol_lib_bg.js":n}):r.then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,{"./gol_lib_bg.js":n}))).then(({instance:t})=>{e=w.wasm=t.exports,n.wasm=e})}function p(r){const i=require("fs");return new Promise(function(e,n){i.readFile(t+r,function(t,r){t?n(t):e(r.buffer)})}).then(e=>WebAssembly.instantiate(e,{"./gol_lib_bg":n})).then(({instance:t})=>{e=w.wasm=t.exports,n.wasm=e})}n.__wbindgen_string_new=function(e,t){return c(o(e,t))},n.__wbindgen_object_drop_ref=function(e){b(e)},n.__wbg_log_3bafd82835c6de6d=function(e){console.log(f(e))},n.__wbindgen_throw=function(e,t){throw new Error(o(e,t))},n.Universe=g;const m=Object.assign(w,n);module.exports=function(e){return m(e).then(()=>n)};
},{"fs":"FWam"}],0:[function(require,module,exports) {
var b=require("UPRQ");b.register("wasm",require("ocK6"));b.load([["gol_lib_bg.af7b7656.wasm","lULg"]]).then(function(){require("epB2");});
},{}]},{},[0], null)
//# sourceMappingURL=main.7aa79248.js.map